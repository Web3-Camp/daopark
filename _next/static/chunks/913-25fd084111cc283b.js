"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[913],{3913:function(a,b,c){c.d(b,{Z:function(){return D}});var d=c(5893),e=c(2125),f=c(4051),g=c.n(f),h=c(7294),i=c(1163),j=c(1664),k=c(3878),l=c(4783),m=c(2142);function n(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function o(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){n(f,d,e,g,h,"next",a)}function h(a){n(f,d,e,g,h,"throw",a)}g(void 0)})}}function p(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function q(){var a=p(["\n  position: relative;\n  .noTop{\n    border-top-color: transparent;\n  }\n  .h50Top{\n  height: 50px; transition: all 0.1s ease 0s;\n  }\n  .navBox{\n    position: absolute;\n    top: 6.5rem;\n    right: 1rem;\n  }\n  .w100Bg{\n    margin-bottom: 1rem;\n  }\n  .lft{\n    display: flex;\n    img{\n      margin-right: 1rem;\n    }\n  }\n  .logout{\n    padding: 0;\n    width: 100%;\n    display: flex;\n    .justify-between{\n      width: 100%;\n    }\n  }\n"]);return q=function(){return a},a}function r(){var a=p(["\n  box-sizing: border-box; \n  display: block; \n  overflow: hidden;\n  background: none;\n  opacity: 1; \n  border: 0; \n  margin: 0; \n  padding: 0; \n  position: relative;\n  width: 100%;\n  height: 100%;\n  img{\n    position: absolute;\n    inset: 0; \n    box-sizing: border-box;\n    padding: 0; border: none;\n    margin: auto; \n    display: block; \n    width: 100%; \n    height: 100%;\n    object-fit: cover;\n  }\n"]);return r=function(){return a},a}function s(){var a=p(["\n  font-size: 2rem;\n  font-family: \"CalSans-SemiBold\";\n  padding-top: 20px;\n"]);return s=function(){return a},a}function t(){var a=p(["\n  box-sizing: border-box; display: block; overflow: hidden; width: initial; height: initial; background: none; opacity: 1; border: 0px; margin: 0px; padding: 0px; position: relative;\n  span{\n    box-sizing: border-box; display: block; width: initial; height: initial; background: none; opacity: 1; border: 0px; margin: 0px; padding: 100% 0px 0px;\n  }\n  img{\n    position: absolute; inset: 0px; box-sizing: border-box; padding: 0px; border: none; margin: auto; display: block; width: 0px; height: 0px; min-width: 100%; max-width: 100%; min-height: 100%; max-height: 100%; object-fit: cover;\n  }\n"]);return t=function(){return a},a}var u=(0,e.ZP)("header").withConfig({componentId:"sc-beddcc78-0"})(q()),v=(0,e.ZP)("span").withConfig({componentId:"sc-beddcc78-1"})(r()),w=e.ZP.span.withConfig({componentId:"sc-beddcc78-2"})(s());e.ZP.div.withConfig({componentId:"sc-beddcc78-3"})(t());var x=(0,i.withRouter)(function(a){var b=a.router,c=(0,m.I)(),e=c.dispatch,f=c.state,n=f.accessToken,p=f.info,q=(0,h.useState)(!1),r=q[0],s=q[1],t=(0,h.useState)(!1),x=t[0],y=t[1],z=(0,h.useState)("/"),A=z[0],B=z[1],C=(0,h.useState)(""),D=C[0],E=C[1],F=(0,h.useState)(null),G=F[0],H=F[1],I=(0,h.useState)(""),J=I[0],K=I[1],L=(0,h.useState)(!1),M=L[0],N=L[1],O=function(){window.scrollY>100?s(!0):s(!1)};(0,h.useEffect)(function(){var a=sessionStorage.getItem("info"),b=sessionStorage.getItem("asToken");a&&b&&(e({type:"SET_INFO",payload:JSON.parse(a)}),e({type:"SET_ACCESS_TOKEN",payload:b})),window.addEventListener("scroll",O);var c=k.Z.clientID,d=k.Z.authorizeUri,f=k.Z.redirectUri;B("".concat(d,"?client_id=").concat(c,"&redirect_uri=").concat(f)),document.addEventListener("click",function(a){y(!1)})},[]),(0,h.useEffect)(function(){if(b.query.code){var a;N(!0),(a=o(g().mark(function a(){var c;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.Z.GetAccessToken(b.query.code);case 2:if(c=a.sent){a.next=5;break}return a.abrupt("return");case 5:e({type:"SET_ACCESS_TOKEN",payload:c});case 6:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)})()}},[b.query]),(0,h.useEffect)(function(){if(D){var a;(a=o(g().mark(function a(){var b;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.Z.getInfo(D);case 2:e({type:"SET_INFO",payload:b=a.sent}),sessionStorage.setItem("info",JSON.stringify(b)),sessionStorage.setItem("asToken",D),N(!1),i.default.push("/");case 8:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)})()}},[D]),(0,h.useEffect)(function(){null!=n&&E(n)},[n]),(0,h.useEffect)(function(){null!=p&&H(p)},[p]);var P,Q=function(a){K(a.target.value)},R=function(a){13===a.keyCode&&(e({type:"SET_SEARCH",payload:J}),i.default.push("/"))},S=function(a){a.nativeEvent.stopImmediatePropagation(),y(!x)},T=(P=o(g().mark(function a(){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e({type:"SET_INFO",payload:null}),sessionStorage.removeItem("info"),sessionStorage.removeItem("asToken"),i.default.push("/"),window.location.reload(),N(!1);case 6:case"end":return a.stop()}},a)})),function(){return P.apply(this,arguments)});return(0,d.jsx)(u,{children:(0,d.jsx)("div",{className:r?"fixed top-0 w-full  bg-white z-30 transition-all ease duration-150 drop-shadow-md":"fixed top-0 w-full  bg-white z-30 transition-all ease duration-150",children:(0,d.jsxs)("div",{className:"flex gap-4 xl:gap-6 justify-between items-center 2xl:w-1536 m-auto px-5 sm:px-10 w-full h-20",children:[(0,d.jsxs)("div",{className:"flex justify-start items-center gap-4 xl:gap-6 w-full",children:[(0,d.jsx)(j.default,{href:"/",passHref:!0,children:(0,d.jsx)(w,{children:"DAO Park"})}),r&&(0,d.jsx)("div",{className:"relative flex-auto",children:(0,d.jsx)("div",{className:"w-full absolute overflow-hidden rounded-md py-3 px-5 z-20 focus-within:shadow-lg -mt-6 bg-gray-100",children:(0,d.jsx)("div",{className:"flex space-between w-full items-center",children:(0,d.jsx)("div",{className:"flex flex-auto items-center",children:(0,d.jsx)("input",{className:"w-full focus:outline-none text-lg font-cal tracking-wide text-gray-700 bg-gray-100 transition ease duration-150",placeholder:"Search DAOs by name, slogan...",autoComplete:"off",value:J,onChange:function(a){return Q(a)},onKeyDown:function(a){return R(a)}})})})})})]}),(0,d.jsxs)("div",{className:" lg:flex gap-4 xl:gap-6 justify-between items-center",children:[null==G&&!M&&(0,d.jsx)("div",{children:(0,d.jsx)(j.default,{href:A,children:(0,d.jsx)("a",{id:"login",className:"whitespace-nowrap font-cal tracking-wide py-2 px-5 text-lg border-2 border-white text-gray-800 hover:text-black transition-all ease duration-150",children:"Login "})})}),null==G&&M&&(0,d.jsx)("div",{children:(0,d.jsx)("div",{className:"w-10 h-10 border-4 border-black border-solid rounded-full animate-spin noTop"})}),null!=G&&(0,d.jsx)("div",{className:"relative shadow-2xl inline-block w-12 h-12 border-2 border-gray-100 hover:border-black rounded-full overflow-hidden transition-all ease duration-150",children:(0,d.jsx)(v,{onClick:function(a){return S(a)},children:(0,d.jsx)("img",{src:null==G?void 0:G.avatar_url,alt:""})})})]}),x&&(0,d.jsxs)("div",{className:"rounded-lg shadow-xl border border-gray-100 p-3 bg-white navBox ",children:[(0,d.jsx)(j.default,{className:"flex justify-between items-center px-5 py-3 rounded-lg bg-white hover:bg-gray-100 transition-all ease-in-out duration-150",href:"/add",passHref:!0,children:(0,d.jsxs)("div",{className:"flex items-center space-x-5 justify-between w100Bg",children:[(0,d.jsxs)("div",{className:"lft",children:[(0,d.jsx)("img",{src:"/assets/images/add.svg",alt:""}),(0,d.jsx)("p",{className:"font-cal text-lg",children:"Add a DAO"})]}),(0,d.jsx)("img",{src:"/assets/images/arrow.svg",alt:""})]})}),(0,d.jsx)("div",{className:"flex justify-between items-center px-5 py-3 rounded-lg bg-white hover:bg-gray-100 transition-all ease-in-out duration-150 logout",children:(0,d.jsxs)("div",{className:"flex items-center space-x-5 justify-between",onClick:function(){return T()},children:[(0,d.jsxs)("div",{className:"lft",children:[(0,d.jsx)("img",{src:"/assets/images/logout.svg",alt:""}),(0,d.jsx)("p",{className:"font-cal text-lg",children:"logout"})]}),(0,d.jsx)("img",{src:"/assets/images/arrow.svg",alt:""})]})})]})]})})})}),y=c(336);function z(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}function A(){var a,b,c=(b=1,function(a){if(Array.isArray(a))return a}(a=y)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(a,b)||function(a,b){if(a){if("string"==typeof a)return z(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return z(a,b)}}(a,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return(0,d.jsx)("footer",{className:"border-t flex justify-between items-center h-20",children:(0,d.jsxs)("div",{className:"flex justify-between items-center 2xl:w-1536 m-auto px-10 w-full ",children:[(0,d.jsx)("a",{className:"text-gray-500 text-lg font-cal hover:text-black transition-all ease duration-150",href:"".concat(c.Blog),target:"_blank",rel:"noreferrer",children:"Blog"}),(0,d.jsxs)("div",{className:"flex space-x-8",children:[(0,d.jsx)("a",{href:"https://discord.com/invite/".concat(c.Discord),target:"_blank",rel:"noreferrer",children:(0,d.jsx)("img",{src:"/assets/images/discord.svg",alt:"",className:"text-gray-500 hover:text-black transition-all ease duration-150"})}),(0,d.jsx)("a",{href:"https://twitter.com/".concat(c.Twitter),target:"_blank",rel:"noreferrer",children:(0,d.jsx)("img",{src:"/assets/images/twitter.svg",alt:"",className:"text-gray-500 hover:text-black transition-all ease duration-150"})}),(0,d.jsx)("a",{href:"https://github.com/".concat(c.Github),target:"_blank",rel:"noreferrer",children:(0,d.jsx)("img",{src:"/assets/images/github.svg",alt:"",className:"text-gray-500 hover:text-black transition-all ease duration-150"})})]})]})})}function B(){var a,b,c=(a=["\n  \n"],b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}})));return B=function(){return c},c}var C=(0,e.ZP)("main").withConfig({componentId:"sc-4a5323f5-0"})(B());function D(a){var b=a.children;return(0,d.jsxs)("div",{children:[(0,d.jsx)(x,{}),(0,d.jsx)(C,{children:b}),(0,d.jsx)(A,{})]})}},4783:function(a,b,c){var d=c(4051),e=c.n(d),f=c(9669),g=c.n(f),h=c(3878);function i(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function j(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){i(f,d,e,g,h,"next",a)}function h(a){i(f,d,e,g,h,"throw",a)}g(void 0)})}}var k,l,m,n,o,p,q,r,s,t,u,v,w=h.Z.backEnd,x=h.Z.repo,y=(k=j(e().mark(function a(b){var c;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g()({method:"get",url:"".concat(w,"/getAtoken/").concat(b),headers:{accept:"application/json"}});case 2:return c=a.sent,a.abrupt("return",c.data);case 4:case"end":return a.stop()}},a)})),function(a){return k.apply(this,arguments)}),z=(l=j(e().mark(function a(b){var c;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g()({method:"get",url:"".concat(w,"/getInfo/").concat(b),headers:{accept:"application/json"}});case 2:return c=a.sent,a.abrupt("return",c.data);case 4:case"end":return a.stop()}},a)})),function(a){return l.apply(this,arguments)}),A=(m=j(e().mark(function a(b,c){var d;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g()({method:"get",url:"".concat(w,"/getUserInfo/").concat(b,"/").concat(c),headers:{accept:"application/json"}});case 2:return d=a.sent,a.abrupt("return",d.data);case 4:case"end":return a.stop()}},a)})),function(a,b){return m.apply(this,arguments)}),B=(n=j(e().mark(function a(){var b;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g()({method:"get",url:"https://api.gitrows.com/@github/web3-camp/test-issue/dao.json",headers:{accept:"application/json"}});case 2:return(b=a.sent).data.reverse(),a.abrupt("return",b.data);case 5:case"end":return a.stop()}},a)})),function(){return n.apply(this,arguments)}),C=(o=j(e().mark(function a(b){var c;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g()({method:"get",url:"".concat(w,"/getTwitterID/").concat(b),headers:{accept:"application/json"}});case 2:return c=a.sent,a.abrupt("return",c.data);case 4:case"end":return a.stop()}},a)})),function(a){return o.apply(this,arguments)}),D=(p=j(e().mark(function a(b){var c;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g()({method:"get",url:"".concat(w,"/getTwitterList/").concat(b),headers:{accept:"application/json"}});case 2:return c=a.sent,a.abrupt("return",c.data);case 4:case"end":return a.stop()}},a)})),function(a){return p.apply(this,arguments)}),E=(q=j(e().mark(function a(b,c){var d;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g().post("https://api.github.com/graphql",{query:"query {\n                repository(owner: \"Web3-Camp\", name: ".concat(x,") {\n                    discussion(number: ").concat(c,") {\n                        body\n                        number\n                        createdAt\n                          author{\n                            avatarUrl\n                            login\n                          }\n\n                          comments(first: 5){\n                            totalCount\n                            edges{\n                                node{\n                                    id\n                                    body\n                                    author{\n                                       avatarUrl\n                                       login\n                                    }\n                                } \n                            }\n                          }\n                        }\n                    }\n                }")},{headers:{accept:"application/json",Authorization:"token ".concat(b)}});case 2:return d=a.sent,a.abrupt("return",d.data);case 4:case"end":return a.stop()}},a)})),function(a,b){return q.apply(this,arguments)}),F=(r=j(e().mark(function a(b){var c;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g().post("https://api.github.com/graphql",{query:"query {\n                repository(owner: \"Web3-Camp\", name: ".concat(x,") {\n                    discussions(first: 100) {\n                        totalCount \n                         pageInfo {\n                            startCursor\n                            endCursor\n                            hasNextPage\n                            hasPreviousPage\n                          }\n                          edges {\n                            cursor\n                            node {\n                              id\n                              title\n                              body\n                            }\n                          }\n                     \n                          nodes {\n                            id\n                            title\n                            body\n                            createdAt\n                            number\n                            author{\n                               avatarUrl\n                               login\n                            }\n                           comments(first: 100){\n                            totalCount\n                            edges{\n                            node{\n                            author{\n                               avatarUrl\n                               login\n                            }\n                            } \n                            }\n                            nodes{\n                               id\n                                 body\n                               }\n                           \n                            }\n                          }\n                    }\n                }\n            }")},{headers:{accept:"application/json",Authorization:"token ".concat(b)}});case 2:return c=a.sent,a.abrupt("return",c.data);case 4:case"end":return a.stop()}},a)})),function(a){return r.apply(this,arguments)}),G=(s=j(e().mark(function a(b){var c;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g().post("https://api.github.com/graphql",{query:"query {\n                repository(owner: \"Web3-Camp\", name: ".concat(x,") {\n                    discussionCategories(first: 100) {\n                        totalCount\n                          edges {\n                            cursor\n                            node {\n                              id\n                              name\n                            }\n                          }\n                    }\n                }\n            }")},{headers:{accept:"application/json",Authorization:"token ".concat(b)}});case 2:return c=a.sent,a.abrupt("return",c.data);case 4:case"end":return a.stop()}},a)})),function(a){return s.apply(this,arguments)}),H=(t=j(e().mark(function a(b,c,d,f,h){var i;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g().post("https://api.github.com/graphql",{query:"mutation {\n                 createDiscussion(input:{body:\"".concat(h,"\",title:\"").concat(f,"\",categoryId:\"").concat(c,"\",repositoryId:\"").concat(d,"\"}) {\n                    discussion{\n                        id\n                    }\n             }\n            }")},{headers:{accept:"application/json",Authorization:"token ".concat(b)}});case 2:return i=a.sent,a.abrupt("return",i.data);case 4:case"end":return a.stop()}},a)})),function(a,b,c,d,e){return t.apply(this,arguments)}),I=(u=j(e().mark(function a(b,c,d){var f;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g().post("https://api.github.com/graphql",{query:"mutation {\n                 addDiscussionComment(input:{body:\"".concat(d,"\",discussionId:\"").concat(c,"\"}) {\n                    comment{\n                        id\n                    }\n             }\n            }")},{headers:{accept:"application/json",Authorization:"token ".concat(b)}});case 2:return f=a.sent,a.abrupt("return",f.data);case 4:case"end":return a.stop()}},a)})),function(a,b,c){return u.apply(this,arguments)}),J=(v=j(e().mark(function a(b,c){var d;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g().post("https://api.github.com/graphql",{query:"query {\n                search(first: 100,query:\"".concat(c,"\",type:DISCUSSION) {\n                    edges {\n                       cursor\n                    }\n                    nodes{\n                        ... on Discussion {\n                        body\n                      }\n                    }\n                    discussionCount\n                }\n            }")},{headers:{accept:"application/json",Authorization:"token ".concat(b)}});case 2:return d=a.sent,a.abrupt("return",d.data);case 4:case"end":return a.stop()}},a)})),function(a,b){return v.apply(this,arguments)});b.Z={GetAccessToken:y,getInfo:z,getDiscussion:E,getDiscussions:F,getDiscussionCategory:G,addDiscussion:H,addComment:I,getComments:J,getUserInfo:A,getListInfo:B,getTwitterID:C,getTwitterList:D}},3878:function(a,b){b.Z={clientID:"Iv1.94a72acba60a8147",authorizeUri:"https://github.com/login/oauth/authorize",redirectUri:"https://daopark.xyz",baseUrl:"https://daopark.xyz",backEnd:"https://dp-api.daopark.xyz",org:"Web3-Camp",repo:"test-issue"}},336:function(a){a.exports=JSON.parse("[{\"Name\":\"Web3Camp\",\"Slug\":\"web3camp\",\"Tagline\":\"Tools and resources for all Web 3.0 enthusiasts\",\"Mission\":\"Our mission is to provide a platform for developers to learn about the blockchain and to provide a community of developers.\",\"Values\":\"\",\"TokenSymbol\":\"$W3C\",\"TokenContractAddress\":\"0x739674F01Fa0333d8B3D9C2B9D817BE78113DCcA\",\"Logo\":\"https://raw.githubusercontent.com/Web3-Camp/graphic-assets/master/v1/SVG/web3logo_web3camp07.svg\",\"CoverPhoto\":\"https://raw.githubusercontent.com/Web3-Camp/graphic-assets/master/v1/PNG/web3logo_web3camp07.png\",\"Twitter\":\"web3camp\",\"Discord\":\"web3camp\",\"Github\":\"Web3-Camp/daopark\",\"Website\":\"web3camp.us\",\"Blog\":\"https://web3camp.us\",\"Mirror\":\"web3camp\",\"Email\":\"noreply@web3camp.us\"}]")}}])